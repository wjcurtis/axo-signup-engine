<!doctype html>

<html lang="en">

<head>

  <meta charset="utf-8" />

  <title>AXO Utility Hub â€” XRPL Signup + Referral Engine</title>

  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1" />

  <style>

    :root{

      --bg:#0b1220; --card:#121a2a; --text:#e9eefc; --sub:#a9b3c7; --accent:#58a6ff; --ok:#1ec28b; --muted:#5f6b86;

      --btn:#1f2a44; --btnText:#e9eefc; --ring:rgba(88,166,255,.35);

    }

    *{box-sizing:border-box}

    html,body{height:100%}

    body{

      margin:0; font:16px/1.5 system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, "Helvetica Neue", Arial, "Apple Color Emoji","Segoe UI Emoji";

      color:var(--text); background:linear-gradient(180deg,#0a1020 0,#0e1830 100%) fixed;

    }

    .wrap{max-width:1080px; margin:40px auto; padding:0 18px}

    header{display:flex; align-items:center; gap:16px; margin-bottom:12px}

    .logo{font-size:42px; font-weight:800; letter-spacing:.5px}

    .rocket{font-size:26px; filter:drop-shadow(0 6px 10px rgba(24,160,255,.35))}

    .sub{color:var(--sub); margin:0 0 18px 0}

    .grid{display:grid; grid-template-columns:repeat(12,1fr); gap:18px}

    .card{

      grid-column:span 6; background:var(--card); border:1px solid rgba(255,255,255,.06);

      border-radius:14px; padding:18px; box-shadow:0 6px 28px rgba(0,0,0,.35);

    }

    @media (max-width:880px){ .card{grid-column:span 12} }

    h2{margin:0 0 10px 0; font-size:18px}

    .btn{

      display:inline-flex; align-items:center; justify-content:center;

      background:var(--btn); color:var(--btnText); border:1px solid rgba(255,255,255,.08);

      border-radius:10px; padding:10px 14px; font-weight:600; cursor:pointer;

      transition:.15s transform ease, .15s box-shadow ease, .15s background ease;

    }

    .btn:hover{transform:translateY(-1px); box-shadow:0 8px 20px var(--ring)}

    .btn.primary{background:var(--accent); border-color:var(--accent); color:#061226}

    .muted{color:var(--muted); font-size:13px; margin-top:6px}

    .kvs{display:grid; grid-template-columns:repeat(2,1fr); gap:10px; margin-top:10px}

    .kv{background:#0f1524; border:1px solid rgba(255,255,255,.06); border-radius:10px; padding:10px 12px}

    .kv .label{font-size:12px; color:var(--muted)}

    .kv .value{font-size:18px; margin-top:6px}

    .ok{color:var(--ok)}

    .bar{height:1px; background:linear-gradient(90deg, transparent, rgba(88,166,255,.6), transparent); margin:14px -18px 10px}

    .topRow{display:flex; gap:10px; flex-wrap:wrap}

    .admin{margin-left:auto}

    .pill{font-size:12px; padding:6px 9px; border-radius:999px; border:1px solid rgba(255,255,255,.12); color:var(--sub)}

    a{color:var(--accent); text-decoration:none}

  </style>

</head>

<body>

  <div class="wrap">

    <header>

      <div class="logo">AXO</div>

      <div class="rocket">ðŸš€</div>

      <span class="pill">XRPL Signup + Referral Engine</span>

      <a class="pill admin" href="/admin" aria-label="Admin">Admin</a>

    </header>



    <p class="sub">Sign up today and get <strong>1000 AXO</strong> bonus tokens!</p>



    <div class="grid">

      <!-- Wallet connect -->

      <section class="card">

        <h2>1. Connect XUMM Wallet</h2>

        <p class="muted">This opens the XUMM mobile app to connect your wallet securely.</p>

        <button class="btn primary" id="btn-xumm">Connect XUMM Wallet</button>

      </section>



      <!-- Trustline -->

      <section class="card">

        <h2>2. Set AXO Trust Line</h2>

        <p class="muted">Please connect your wallet first to proceed.</p>

        <button class="btn" id="btn-trust" disabled>Set Trust Line</button>

      </section>



      <!-- Purchase / trade -->

      <section class="card">

        <h2>5. Purchase AXO with XRP</h2>

        <p class="muted">Claim your signup bonus first to proceed.</p>

        <button class="btn" id="btn-buy" disabled>Buy / Trade</button>

      </section>



      <!-- Live Market -->

      <section class="card" id="live-box">

        <div class="topRow">

          <h2>6. Live Market Prices</h2>

          <span class="pill" id="sourcePill">source: â€”</span>

        </div>

        <div class="bar"></div>

        <div class="kvs">

          <div class="kv">

            <div class="label">AXO Price (USD)</div>

            <div class="value" id="axo_usd">$0.01</div>

          </div>

          <div class="kv">

            <div class="label">XRP Price (USD)</div>

            <div class="value" id="xrp_usd">$0.00</div>

          </div>

        </div>

        <div class="kv" style="margin-top:10px">

          <div class="label">Exchange Rate</div>

          <div class="value ok" id="rate">1 XRP = 0 AXO</div>

        </div>

        <div class="muted" id="asof"></div>

      </section>

    </div>

  </div>



  <script>

    // â€”â€”â€” Wire up disabled demo buttons (can be replaced with real flows later)

    document.getElementById('btn-xumm').onclick = () => alert('XUMM connect flow goes here.');

    document.getElementById('btn-trust').onclick = () => alert('Trust line flow goes here.');

    document.getElementById('btn-buy').onclick = () => alert('Buy / Trade flow goes here.');



    // â€”â€”â€” Live market fetch from your Flask backend

    const $ = id => document.getElementById(id);

    const fmt = n => (typeof n==='number' && isFinite(n)) ? n.toLocaleString(undefined, {maximumFractionDigits: 6}) : 'â€”';



    async function refreshMarket(){

      try{

        const res = await fetch('/api/market?nocache=' + Date.now(), {cache:'no-store'});

        const j = await res.json();



        $('axo_usd').textContent = '$' + fmt(j.axo_usd);

        $('xrp_usd').textContent = '$' + fmt(j.xrp_usd);

        $('rate').textContent    = (j.axo_per_xrp ? `1 XRP = ${fmt(j.axo_per_xrp)} AXO` : 'â€”');

        $('sourcePill').textContent = 'source: ' + (j.source || 'â€”');

        if (j.ts){

          const d = new Date(j.ts * 1000);

          $('asof').textContent = 'As of ' + d.toLocaleString();

        }

      }catch(e){

        console.warn('Market refresh failed', e);

      }

    }

    refreshMarket();

    setInterval(refreshMarket, 60_000); // refresh every minute

  </script>

</body>

</html>
